(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(5),r=a.n(s),i=(a(11),a(4)),o=a.n(i),l=a(6),d=a(2),j=(a(13),a(14),a(0)),u=function(e){var t=e.handlerLocation,a=e.geoLocation;return Object(j.jsxs)(j.Fragment,{children:[!a&&Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20 ",fill:"white",class:"bi bi-geo-alt",viewBox:"0 0 16 16",onClick:t,children:[Object(j.jsx)("path",{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z"}),Object(j.jsx)("path",{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})]}),a&&Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"#ff391e",class:"bi bi-geo-alt-fill",viewBox:"0 0 16 16",onClick:t,children:Object(j.jsx)("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})})]})},h=function(e){var t=e.handleSearch,a=e.handlerLocation,n=e.geoLocation;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("nav",{className:"navbar navbar-light mb-3",children:[Object(j.jsx)("div",{className:"container-fluid justify-content-center",children:Object(j.jsxs)("form",{className:"d-flex",onSubmit:t,children:[Object(j.jsx)("input",{className:"form-control me-2",type:"search",name:"country",placeholder:"Search","aria-label":"Search"}),Object(j.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]})}),Object(j.jsx)(u,{handlerLocation:a,geoLocation:n})]})})},b=function(e){var t,a=e.daily,n=e.icon,c=e.id,s=a.temp,r=a.weather,i=new Date;return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"card m-2 forecast",width:"15rem;",children:[Object(j.jsx)("p",{children:(t=c+1,new Date(i.getFullYear(),i.getMonth(),i.getDate()+t).toDateString().slice(0,11))}),Object(j.jsx)("img",{src:n(r[0].icon),className:"card-img-top icon",alt:"..."}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("strong",{className:"m-2 ",children:[Math.round(s.min),"\xb0C"]}),Object(j.jsxs)("strong",{className:"m-2 ",children:[Math.round(s.max),"\xb0C"]})]})]})})},m=function(e){var t=e.title,a=e.detail,n=e.detailUnit;return Object(j.jsxs)("div",{className:"card detail mb-4",children:[Object(j.jsx)("span",{children:t}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("span",{className:"weather-detail",children:a}),Object(j.jsx)("p",{children:n})]})]})},x=function(e){var t=e.currentWeather,a=e.forecast,n=t.main,c=t.weather,s=t.name,r=t.wind,i=a.daily,o=function(e){return"http://openweathermap.org/img/wn/".concat(e,"@2x.png")};return Object(j.jsxs)("div",{className:"container-weather",children:[Object(j.jsxs)("div",{className:"weather",children:[Object(j.jsx)("strong",{children:s}),Object(j.jsx)("img",{src:o(c[0].icon),className:"icon"}),Object(j.jsxs)("strong",{className:"temp",children:[Math.round(n.temp),"\xb0 C"]}),Object(j.jsx)("strong",{className:"text-muted",children:c[0].description})]}),Object(j.jsx)("div",{className:"container-forecast justify-content-xxl-center",children:Object(j.jsx)("div",{className:"forecasts",children:i.map((function(e,t){return 7!==t&&Object(j.jsx)(b,{id:t,daily:e,icon:o},t)}))})}),Object(j.jsxs)("div",{className:"container-fluid d-md-flex justify-content-md-around ",children:[Object(j.jsx)(m,{title:"Wind status",detail:r.speed,detailUnit:"m/s"}),Object(j.jsx)(m,{title:"Air pressure",detail:n.pressure,detailUnit:"hPa"}),Object(j.jsx)(m,{title:"Humidity",detail:n.humidity,detailUnit:"%"})]})]})},p=function(){return Object(j.jsx)("footer",{className:"footer p-2 ",children:Object(j.jsxs)("span",{className:"footer-text",children:["Weather-app with React JS",Object(j.jsx)("br",{})," - ",Object(j.jsx)("i",{children:"Developed by Rodrigo Fernandez Madrid"})," -"]})})},f=function(e){var t=e.animation,a=e.message;return Object(j.jsx)("div",{className:"index",children:Object(j.jsx)("div",{className:"weather",id:"index",onClick:t,children:Object(j.jsx)("h2",{children:a})})})};var O=function(){var e=Object(n.useState)(),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),r=Object(d.a)(s,2),i=r[0],u=r[1],b=Object(n.useState)(),m=Object(d.a)(b,2),O=m[0],g=m[1],v=Object(n.useState)(),w=Object(d.a)(v,2),N=w[0],y=w[1],S=Object(n.useState)(!1),k=Object(d.a)(S,2),C=k[0],L=k[1],M=Object(n.useState)(!1),F=Object(d.a)(M,2),z=F[0],D=F[1],A="cfc0bb2a30e6c158d818575f9fd77655";function B(e){return E.apply(this,arguments)}function E(){return(E=Object(l.a)(o.a.mark((function e(t){var n,c,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t){e.next=17;break}return e.next=3,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(a,"&lang=en&units=metric&appid=").concat(A));case 3:return n=e.sent,e.next=6,n.json();case 6:if(c=e.sent,200!==n.status){e.next=13;break}return u(c),y(c.coord),e.abrupt("return");case 13:case 29:case 45:throw D(!0),n.status;case 15:case 31:e.next=47;break;case 17:if(2!==t){e.next=33;break}return e.next=20,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(N.lat,"&lon=").concat(N.lon,"&units=metric&exclude=hourly,minutely&appid=").concat(A));case 20:return n=e.sent,e.next=23,n.json();case 23:if(s=e.sent,200!==n.status){e.next=29;break}return g(s),e.abrupt("return");case 33:if(3!==t){e.next=47;break}return e.next=36,fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(N.lat,"&lon=").concat(N.lon,"&lang=sp&units=metric&appid=").concat(A));case 36:return n=e.sent,e.next=39,n.json();case 39:if(r=e.sent,200!==n.status){e.next=45;break}return u(r),e.abrupt("return");case 47:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.getElementsByClassName("App");var U=function(e){var t=document.getElementById("index");t.classList.add("animation"),setTimeout((function(){t.classList.remove("animation"),P()}),200)},P=function(e){L(!C),C?c():console.log("..."),navigator.geolocation?navigator.geolocation.getCurrentPosition(T):alert("geolocation not find"),D(!1)},T=function(e){y({lon:e.coords.longitude,lat:e.coords.latitude})};return Object(n.useEffect)((function(){N&&B(2),z&&(u(),g(),c(),y())}),[N,z]),Object(n.useEffect)((function(){!a&&N?B(3):a&&N?B(C?3:1):a&&B(1)}),[a,N]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("div",{className:"search-bar",children:Object(j.jsx)(h,{handleSearch:function(e){e.preventDefault();var t=e.target.firstChild;c(t.value),L(!1),D(!1),t.value="",setTimeout((function(){c()}),2e3)},handlerLocation:P,geoLocation:C})}),z&&Object(j.jsx)(f,{message:"Ups... we couldn't find your weather",animation:U}),O&&i&&!z&&Object(j.jsx)(x,{currentWeather:i,forecast:O}),!i&&!C&&!a&&!z&&Object(j.jsx)(f,{message:"Search your weather",animation:U}),(a&&!i||C&&!i)&&Object(j.jsx)("div",{className:"spinner-border text-info loading",role:"status",children:Object(j.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(j.jsx)(p,{})]})},g=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,17)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root")),g()}},[[16,1,2]]]);
//# sourceMappingURL=main.51d47888.chunk.js.map