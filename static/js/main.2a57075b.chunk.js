(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(5),s=n.n(r),o=(n(11),n(4)),i=n.n(o),l=n(6),u=n(2),d=(n(13),n(14),n(0)),j=function(e){var t=e.handleSearch;e.currentWeather,e.forecast;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("nav",{className:"navbar navbar-light bg-light m-3",children:Object(d.jsx)("div",{className:"container-fluid justify-content-center",children:Object(d.jsxs)("form",{className:"d-flex",onSubmit:t,children:[Object(d.jsx)("input",{className:"form-control me-2",type:"search",name:"country",placeholder:"Search","aria-label":"Search"}),Object(d.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]})})})})},h=function(e){var t,n=e.daily,c=e.icon,a=e.id,r=n.temp,s=n.weather,o=new Date;return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"card m-2",width:"15rem;",children:[Object(d.jsx)("p",{children:(t=a+1,new Date(o.getFullYear(),o.getMonth(),o.getDate()+t).toDateString())}),Object(d.jsx)("img",{src:c(s[0].icon),className:"card-img-top icon",alt:"..."}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("strong",{className:"m-2",children:[r.min,"\xb0C"]}),Object(d.jsxs)("strong",{className:"m-2 text-muted",children:[r.max,"\xb0C"]})]})]})})},b=function(e){var t=e.currentWeather,n=e.forecast,c=t.main,a=t.weather,r=t.name,s=n.daily,o=function(e){return"http://openweathermap.org/img/wn/".concat(e,"@2x.png")};return Object(d.jsxs)("div",{className:"container-weather",children:[Object(d.jsxs)("div",{className:"weather",children:[Object(d.jsx)("strong",{children:r}),Object(d.jsx)("img",{src:o(a[0].icon),className:"icon"}),Object(d.jsxs)("strong",{className:"temp",children:[c.temp,"\xb0"]})]}),Object(d.jsx)("div",{className:"container-forecast ",children:Object(d.jsx)("div",{className:"forecast",children:s.map((function(e,t){return Object(d.jsx)(h,{id:t,daily:e,icon:o},t)}))})})]})};var f=function(){var e=Object(c.useState)(),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(),s=Object(u.a)(r,2),o=s[0],h=s[1],f=Object(c.useState)(),p=Object(u.a)(f,2),m=p[0],x=p[1],g=Object(c.useState)(),O=Object(u.a)(g,2),v=O[0],w=O[1],N="cfc0bb2a30e6c158d818575f9fd77655";function y(e){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(i.a.mark((function e(t){var c,a,r,s,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t){e.next=11;break}return e.next=3,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(n,"&lang=sp&units=metric&appid=").concat(N));case 3:return c=e.sent,e.next=6,c.json();case 6:a=e.sent,h(a),w(a.coord),e.next=29;break;case 11:if(2!==t){e.next=21;break}return e.next=14,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(v.lat,"&lon=").concat(v.lon,"&units=metric&exclude=hourly,minutely&appid=").concat(N));case 14:return r=e.sent,e.next=17,r.json();case 17:s=e.sent,x(s),e.next=29;break;case 21:if(3!==t){e.next=29;break}return e.next=24,fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(v.lat,"&lon=").concat(v.lon,"&lang=sp&units=metric&appid=").concat(N));case 24:return o=e.sent,e.next=27,o.json();case 27:l=e.sent,h(l);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(e){w({lon:e.coords.longitude,lat:e.coords.latitude})};return Object(c.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(k):console.log("ubicacion no disponible")}),[]),Object(c.useEffect)((function(){v?y(2):console.log("coords not found")}),[v]),Object(c.useEffect)((function(){!n&&v&&y(3)}),[n,v]),Object(c.useEffect)((function(){n?y(1):console.log("city not found")}),[n]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(j,{handleSearch:function(e){e.preventDefault();var t=e.target.firstChild;a(t.value)}}),m&&o&&Object(d.jsx)(b,{currentWeather:o,forecast:m}),!o&&Object(d.jsx)("h1",{children:"Cargando..."})]})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(f,{})}),document.getElementById("root")),p()}},[[16,1,2]]]);
//# sourceMappingURL=main.2a57075b.chunk.js.map