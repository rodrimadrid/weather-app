(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(5),r=a.n(s),i=(a(11),a(4)),o=a.n(i),l=a(6),d=a(2),j=(a(13),a(14),a(0)),u=function(e){var t=e.handleSearch;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("nav",{className:"navbar navbar-light mb-3",children:Object(j.jsx)("div",{className:"container-fluid justify-content-center",children:Object(j.jsxs)("form",{className:"d-flex",onSubmit:t,children:[Object(j.jsx)("input",{className:"form-control me-2",type:"search",name:"country",placeholder:"Search","aria-label":"Search"}),Object(j.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]})})})})},h=function(e){var t,a=e.daily,n=e.icon,c=e.id,s=a.temp,r=a.weather,i=new Date;return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"card m-2 forecast",width:"15rem;",children:[Object(j.jsx)("p",{children:(t=c+1,new Date(i.getFullYear(),i.getMonth(),i.getDate()+t).toDateString().slice(0,11))}),Object(j.jsx)("img",{src:n(r[0].icon),className:"card-img-top icon",alt:"..."}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("strong",{className:"m-2 ",children:[Math.round(s.min),"\xb0C"]}),Object(j.jsxs)("strong",{className:"m-2 ",children:[Math.round(s.max),"\xb0C"]})]})]})})},b=function(e){var t=e.title,a=e.detail,n=e.detailUnit;return Object(j.jsxs)("div",{className:"card detail mb-4",children:[Object(j.jsx)("span",{children:t}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("span",{className:"weather-detail",children:a}),Object(j.jsx)("p",{children:n})]})]})},m=function(e){var t=e.currentWeather,a=e.forecast,n=t.main,c=t.weather,s=t.name,r=t.wind,i=a.daily,o=function(e){return"http://openweathermap.org/img/wn/".concat(e,"@2x.png")};return Object(j.jsxs)("div",{className:"container-weather",children:[Object(j.jsxs)("div",{className:"weather",children:[Object(j.jsx)("strong",{children:s}),Object(j.jsx)("img",{src:o(c[0].icon),className:"icon"}),Object(j.jsxs)("strong",{className:"temp",children:[Math.round(n.temp),"\xb0 C"]}),Object(j.jsx)("strong",{className:"text-muted",children:c[0].description})]}),Object(j.jsx)("div",{className:"container-forecast justify-content-xxl-center",children:Object(j.jsx)("div",{className:"forecasts",children:i.map((function(e,t){return 7!==t&&Object(j.jsx)(h,{id:t,daily:e,icon:o},t)}))})}),Object(j.jsxs)("div",{className:"container-fluid d-md-flex justify-content-md-around ",children:[Object(j.jsx)(b,{title:"Wind status",detail:r.speed,detailUnit:"m/s"}),Object(j.jsx)(b,{title:"Air pressure",detail:n.pressure,detailUnit:"hPa"}),Object(j.jsx)(b,{title:"Humidity",detail:n.humidity,detailUnit:"%"})]})]})},x=function(e){var t=e.handlerLocation,a=e.geoLocation;return Object(j.jsxs)(j.Fragment,{children:[!a&&Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20 ",fill:"white",class:"bi bi-geo-alt",viewBox:"0 0 16 16",onClick:t,children:[Object(j.jsx)("path",{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z"}),Object(j.jsx)("path",{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})]}),a&&Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"#ff391e",class:"bi bi-geo-alt-fill",viewBox:"0 0 16 16",onClick:t,children:Object(j.jsx)("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})})]})},p=function(){return Object(j.jsx)("footer",{className:"footer p-2 ",children:Object(j.jsxs)("span",{className:"footer-text",children:["Weather-app with React JS",Object(j.jsx)("br",{})," - ",Object(j.jsx)("i",{children:"Developed by Rodrigo Fernandez Madrid"})," -"]})})},f=function(e){var t=e.animation,a=e.message;return Object(j.jsx)("div",{className:"index",children:Object(j.jsx)("div",{className:"weather",id:"index",onClick:t,children:Object(j.jsx)("h2",{children:a})})})};var O=function(){var e=Object(n.useState)(),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),r=Object(d.a)(s,2),i=r[0],h=r[1],b=Object(n.useState)(),O=Object(d.a)(b,2),g=O[0],v=O[1],w=Object(n.useState)(),N=Object(d.a)(w,2),y=N[0],S=N[1],k=Object(n.useState)(!1),C=Object(d.a)(k,2),L=C[0],M=C[1],A=Object(n.useState)(!1),F=Object(d.a)(A,2),z=F[0],D=F[1],B="cfc0bb2a30e6c158d818575f9fd77655",E=document.getElementsByClassName("App");function U(e){return P.apply(this,arguments)}function P(){return(P=Object(l.a)(o.a.mark((function e(t){var n,c,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t){e.next=18;break}return e.next=3,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(a,"&lang=en&units=metric&appid=").concat(B));case 3:return n=e.sent,e.next=6,n.json();case 6:if(c=e.sent,200!==n.status){e.next=14;break}return h(c),S(c.coord),E[0].classList.add("App-content"),e.abrupt("return");case 14:case 30:case 47:throw D(!0),n.status;case 16:case 32:e.next=49;break;case 18:if(2!==t){e.next=34;break}return e.next=21,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(y.lat,"&lon=").concat(y.lon,"&units=metric&exclude=hourly,minutely&appid=").concat(B));case 21:return n=e.sent,e.next=24,n.json();case 24:if(s=e.sent,200!==n.status){e.next=30;break}return v(s),e.abrupt("return");case 34:if(3!==t){e.next=49;break}return e.next=37,fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(y.lat,"&lon=").concat(y.lon,"&lang=sp&units=metric&appid=").concat(B));case 37:return n=e.sent,e.next=40,n.json();case 40:if(r=e.sent,200!==n.status){e.next=47;break}return h(r),E[0].classList.add("App-content"),e.abrupt("return");case 49:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(e){var t=document.getElementById("index");t.classList.add("animation"),setTimeout((function(){t.classList.remove("animation"),W()}),200)},W=function(e){M(!L),L?c():console.log("..."),navigator.geolocation?navigator.geolocation.getCurrentPosition(I):alert("geolocation not find"),D(!1)},I=function(e){S({lon:e.coords.longitude,lat:e.coords.latitude})};return Object(n.useEffect)((function(){y&&U(2),z&&(h(),v(),c(),S(),E[0].classList.remove("App-content"))}),[y,z]),Object(n.useEffect)((function(){!a&&y?U(3):a&&y?U(L?3:1):a&&U(1)}),[a,y]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("div",{className:"search-bar",children:[Object(j.jsx)(u,{handleSearch:function(e){e.preventDefault();var t=e.target.firstChild;c(t.value),M(!1),D(!1),t.value="",setTimeout((function(){c()}),2e3)}}),Object(j.jsx)(x,{handlerLocation:W,geoLocation:L})]}),z&&Object(j.jsx)(f,{message:"Ups... we couldn't find your weather",animation:T}),g&&i&&!z&&Object(j.jsx)(m,{currentWeather:i,forecast:g}),!i&&!L&&!a&&!z&&Object(j.jsx)(f,{message:"Search your weather",animation:T}),(a&&!i||L&&!i)&&Object(j.jsx)("div",{className:"spinner-border text-info loading",role:"status",children:Object(j.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(j.jsx)(p,{})]})},g=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,17)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root")),g()}},[[16,1,2]]]);
//# sourceMappingURL=main.de945dca.chunk.js.map